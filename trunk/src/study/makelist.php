<?php//  ------------------------------------------------------------------------ ////                               phpWordTrain                                ////                           Copyright (c) 2005                              ////                     <http://phpwordtrain.berlios.de>                      ////  ------------------------------------------------------------------------ ////  This program is free software; you can redistribute it and/or modify     ////  it under the terms of the GNU General Public License as published by     ////  the Free Software Foundation; either version 2 of the License, or        ////  (at your option) any later version.                                      ////                                                                           ////  You may not change or alter any portion of this comment or credits       ////  of supporting developers from this source code or any supporting         ////  source code which is considered copyrighted (c) material of the          ////  original comment or credit authors.                                      ////                                                                           ////  This program is distributed in the hope that it will be useful,          ////  but WITHOUT ANY WARRANTY; without even the implied warranty of           ////  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the            ////  GNU General Public License for more details.                             ////                                                                           ////  You should have received a copy of the GNU General Public License        ////  along with this program; if not, write to the Free Software              ////  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA ////  ------------------------------------------------------------------------ ////                                                                           ////  File:         /study/makelist.php                                        ////  Language:     PHP 4.3                                                    ////                                                                           ////  Description:  Sets hot field of the words which need to be asked again   ////                according its current level                                ////                                                                           ////  Author:       Francisco Garcia Rodriguez <kalahan@users.berlios.de>      ////                                                                           ////  $Id$//  ------------------------------------------------------------------------ //include "../common.php";$today= date('Ymd');// If not answer, get a 100 words row$lev0 = "level = 0";$lev1 = "( ((to_days($today) - to_days(lasthit)) > ".LEVEL1.") and level = 1)";$lev2 = "( ((to_days($today) - to_days(lasthit)) > ".LEVEL2.") and level = 2)";$lev3 = "( ((to_days($today) - to_days(lasthit)) > ".LEVEL3.") and level = 3)";$lev4 = "( ((to_days($today) - to_days(lasthit)) > ".LEVEL4.") and level = 4)";$lev5 = "( ((to_days($today) - to_days(lasthit)) > ".LEVEL5.") and level = 5)";$lev6 = "( ((to_days($today) - to_days(lasthit)) > ".LEVEL6.") and level = 6)";$lev7 = "( ((to_days($today) - to_days(lasthit)) > ".LEVEL7.") and level = 7)";$lev8 = "( ((to_days($today) - to_days(lasthit)) > ".LEVEL8.") and level = 8)";$lev9 = "( ((to_days($today) - to_days(lasthit)) > ".LEVEL9.") and level = 9)";$sql1= "select * from lang_german where $lev0 or $lev1 or $lev2 or $lev3        or $lev4 or $lev5 or $lev6 or $lev7 or $lev8 or $lev9         order by rand() limit 50";   $result= mysql_query($sql1);$new = mysql_num_rows($result);if ( $new == 0 )    Msg("There are not new words you need to learn... yet!");// Make listfor ($i=0; $i<$new; $i++){    $entry= mysql_fetch_array($result);        $word        = $entry['word'];    $date        = $entry['date'];    $datein      = $entry['datein'];        $sql= "update lang_german set hot=1 where word='$word'";    mysql_query($sql) or Error(mysql_error());}$smarty= Template();$smarty->assign("msg","Updated list of questions. $new words have been activated");$smarty->display('msg.tpl');?>