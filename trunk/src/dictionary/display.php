<?php//  ------------------------------------------------------------------------ ////                               phpWordTrain                                ////                           Copyright (c) 2005                              ////                     <http://phpwordtrain.berlios.de>                      ////  ------------------------------------------------------------------------ ////  This program is free software; you can redistribute it and/or modify     ////  it under the terms of the GNU General Public License as published by     ////  the Free Software Foundation; either version 2 of the License, or        ////  (at your option) any later version.                                      ////                                                                           ////  You may not change or alter any portion of this comment or credits       ////  of supporting developers from this source code or any supporting         ////  source code which is considered copyrighted (c) material of the          ////  original comment or credit authors.                                      ////                                                                           ////  This program is distributed in the hope that it will be useful,          ////  but WITHOUT ANY WARRANTY; without even the implied warranty of           ////  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the            ////  GNU General Public License for more details.                             ////                                                                           ////  You should have received a copy of the GNU General Public License        ////  along with this program; if not, write to the Free Software              ////  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA ////  ------------------------------------------------------------------------ ////                                                                           ////  File:         /dictionary/display.php                                    ////  Language:     PHP 4.3                                                    ////                                                                           ////  Description:  Display all the information stored about a word            ////                                                                           ////  Author:       Francisco Garcia Rodriguez <kalahan@users.berlios.de>      ////                                                                           ////  $Id$//  ------------------------------------------------------------------------ //include "../common.php";include "../lib/format.php";include "../lib/utils.php";if ( isset ($_GET['word']) )    $word= $_GET['word'];else    Error("You can't access this page without selecting a word");    // Get word data$sql="select *,date_format(lasthit,'%m-%d-%Y'), date_format(datein,'%m-%d-%Y'), ".     "unix_timestamp(lasthit) from lang_german where word='$word'";     $result= mysql_query($sql)    or Error("Error from the database: ".mysql_error());    $result= mysql_fetch_array($result);// Calculate date for next question$question_day= $result['unix_timestamp(lasthit)'];$level= $result['level'];switch ($level){    case 0: $question_day+= LEVEL0*86400; break;    case 1: $question_day+= LEVEL1*86400; break;    case 2: $question_day+= LEVEL2*86400; break;    case 3: $question_day+= LEVEL3*86400; break;    case 4: $question_day+= LEVEL4*86400; break;    case 5: $question_day+= LEVEL5*86400; break;    case 6: $question_day+= LEVEL6*86400; break;    case 7: $question_day+= LEVEL7*86400; break;    case 8: $question_day+= LEVEL8*86400; break;    case 9: $question_day+= LEVEL9*86400; break;}// Filling up info for template$smarty= Template();$smarty->assign("section", "Dictionary");$smarty->assign('word', $result['word']);$smarty->assign('translation', $result['translation']);$smarty->assign('tip_word', $result['tip_word']);$smarty->assign('tip_trans', $result['tip_trans']);$smarty->assign('type', $result['type']);$smarty->assign('lasthit', $result["date_format(lasthit,'%m-%d-%Y')"]);$smarty->assign('datein', $result["date_format(datein,'%m-%d-%Y')"]);$smarty->assign('misses', $result['misses']);$smarty->assign('level', $result['level']);$smarty->assign('scheduled', date("m-d-Y", $question_day));$smarty->assign('types_list', TypesArray() );$smarty->display('dictionary/display.tpl');?>