<?php//  ------------------------------------------------------------------------ ////                               phpWordTrain                                ////                           Copyright (c) 2005                              ////                     <http://phpwordtrain.berlios.de>                      ////  ------------------------------------------------------------------------ ////  This program is free software; you can redistribute it and/or modify     ////  it under the terms of the GNU General Public License as published by     ////  the Free Software Foundation; either version 2 of the License, or        ////  (at your option) any later version.                                      ////                                                                           ////  You may not change or alter any portion of this comment or credits       ////  of supporting developers from this source code or any supporting         ////  source code which is considered copyrighted (c) material of the          ////  original comment or credit authors.                                      ////                                                                           ////  This program is distributed in the hope that it will be useful,          ////  but WITHOUT ANY WARRANTY; without even the implied warranty of           ////  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the            ////  GNU General Public License for more details.                             ////                                                                           ////  You should have received a copy of the GNU General Public License        ////  along with this program; if not, write to the Free Software              ////  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA ////  ------------------------------------------------------------------------ ////                                                                           ////  File:         /admin/inc/edit.php                                        ////  Language:     PHP 4.3                                                    ////                                                                           ////  Description:  Functions for database manipulation                        ////                                                                           ////  Author:       Francisco Garcia Rodriguez <kalahan@users.berlios.de>      ////                                                                           ////  $Id: index.php 10 2005-07-20 16:21:39Z Kalahan $//  ------------------------------------------------------------------------ //include "../common.php";include "../lib/format.php";include "../lib/utils.php";//// Edit menu to change/erase a word from the dictionary//function EditWord($word){    $sql="select * from lang_german where word='$word'";    $result= mysql_query($sql)        or Error("Problem with the database: ".mysql_error());        $result= mysql_fetch_array($result);    $smarty= Template();    $smarty->assign("section", "Admin");    $smarty->assign('word', htmlspecialchars($result['word']));    $smarty->assign('translation', htmlspecialchars($result['translation']));    $smarty->assign('tip_word', $result['tip_word']);    $smarty->assign('tip_trans', $result['tip_trans']);    $smarty->assign('type', $result['type']);    $smarty->assign('lasthit', $result['lasthit']);    $smarty->assign('datein', $result['datein']);    $smarty->assign('types_list', TypesArray() );    $smarty->display('admin/edit.tpl');}//// Update dictionary with new data for word//function UpdateWord($node){    $word        = $node['new_word'];    $translation = $node['translation'];    $tip_word    = $node['tip_word'];    $tip_trans   = $node['tip_trans'];    $type        = $node['type'];    $key         = $node['old_word'];            $sql= "update lang_german set word='$word',         translation='$translation', tip_word='$tip_word',         tip_trans='$tip_trans', type='$type'        where word='$key'";    mysql_query($sql) or Error("Problem with the database: ".mysql_error());        if (mysql_affected_rows() == 0)        Error("<p>Something went wrong. No rows affected</p>");    else        Msg("<p>Word <b>$word</b> edited sucesfuly</a></p>");}//// Removes WORD from dictionary//function RemoveWord($word){    $sql = "delete from lang_german where word='$word'";    mysql_query($sql) or Error("Problem with the database: ".mysql_error());        msg('<p>The word <font color="red">'.$word.         '</font> has been deleted.</p><br>');}?>